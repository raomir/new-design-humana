<p-dialog header="Diálogo Principal"  [style]="{ 'width': '600px', 'max-height': '400px' }">
    <p>Contenido del diálogo principal...</p>
    <button type="button" >Abrir Diálogo Anidado</button>
    <p-dialog header="Diálogo Anidado"  [style]="{ 'width': '800px', 'height': '600px' }">
        <p>Contenido del diálogo anidado...</p>
    </p-dialog>
</p-dialog>
<form [formGroup]="searchForm">
    <p-table
        #dataTable
        styleClass="p-datatable-striped"
        [selectionMode]="sendDocument ? 'single' : null"
        loadingIcon="fa-solid fa-spinner fa-spin"
        [columns]="columns"
        [value]="data"
        [loading]="loading"
        [rowsPerPageOptions]="rows"
        [showCurrentPageReport]="true"
        dataKey="id"
        responsiveLayout="scroll"
        [lazy]="true"
        (onLazyLoad)="onSort($event)"
        >
        <ng-template pTemplate="caption">
            <div class="flex flex-row flex-wrap card-container blue-container ng-star-inserted">
                <div class="col-6 p-0 flex flex-row">
                    <div class="col-auto p-0" *ngIf="export">
                        <app-buttons-general [buttons]="['btn_export_full', 'btn_export_excel', 'btn_export_text', 'btn_export_pdf']" (exportAction)="exportAction.emit($event)"></app-buttons-general> 
                    </div>
                    <div class="col-auto p-0">
                        <div class="p-element ng-star-inserted">
                            <p-dropdown styleClass="p-dropdown-default" [ngModelOptions]="{standalone: true}" [options]="rowsPerPageOptions" [(ngModel)]="pageNumber" (onChange)="paginate($event, true)"></p-dropdown>
                        </div>
                    </div>
                </div>
                <div *ngIf="showFilter" class="col-6 p-0 flex align-items-center justify-content-end">
                    <span class="p-input-icon-left w-7">
                        <i class="pi pi-search"></i>
                        <input formControlName="search" pInputText type="text" class="p-inputtext p-component p-element w-full input-search-table" (input)="clearInvalidCharacters($event)" (keyup.enter)="filterEnter()" placeholder="Search" />
                    </span>
                </div>
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <ng-container *ngFor="let column of columns">
                <th
                    pSortableColumn="{{ column.sort }}"
                    class="{{ column.classTitle }}"
                    [style]="'margin: 0 auto;' + (column.width ? 'width: ' + column.width : '')"
                >
                    {{ column.title }}
                    <p-sortIcon *ngIf="column.sort != '' && column.sort != undefined" field="{{ column.sort }}"></p-sortIcon>
                </th>
                </ng-container>
            </tr>
        </ng-template>
        <ng-template
                pTemplate="body"
                let-dataItem
                let-columns="columns"
                let-rowIndex="rowIndex"
            >
            <tr (mouseenter)="onMouseEnter(rowIndex)" (mouseleave)="onMouseLeave()"
                (click)="sendDocument && runActions.emit({action: 'documento', data: dataItem})"
                [ngClass]="{'highlight-row': sendDocument && rowIndex === rowIndexHovered, 'cursor-pointer': sendDocument && rowIndex === rowIndexHovered}"
                [ngStyle]="{'cursor': sendDocument && rowIndex === rowIndexHovered ? 'pointer' : 'default'}">
                <ng-container *ngFor="let column of columns">
                    <td style="padding: 0.25rem 0.5rem" *ngIf="!column.actions && !column.render" class="{{ column.classCode }}">{{ dataItem[column.data] }}</td>
                    <td style="padding: 0.25rem 0.5rem" *ngIf="column.render && !column?.actions?.length" class="{{ column.classStatus }}" [innerHTML]="column.render(dataItem[column.data], dataItem)"></td>
                    <td style="padding: 0.25rem 0.5rem" *ngIf="column?.actions?.length" class="text-center">
                        <ng-container *ngIf="column.actions">
                            <app-buttons-general (runActions)="handleRunActions($event)" [datatable]="true" [buttons]="column.actions" [dataDatatable]="dataItem"></app-buttons-general> 
                        </ng-container>
                    </td>
                </ng-container>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage" let-columns>
            <tr>
                <td [attr.colspan]="columns.length" class="mt-3 text-center text-lg">
                    No records found.
                </td>
            </tr>
        </ng-template>
    </p-table>
    <p-divider class="p-divider p-component p-divider-horizontal p-divider-solid p-divider-left" 
        [ngStyle]="{ 'background-color': '#dfdfe6', 'margin': '0', 'padding': '0', 'border-width': '0px', 'height': '1px' }">
    </p-divider>
    <div class="flex align-items-center justify-content-center">
        <p-paginator
            *ngIf="paginatePage"
            class="p-element ng-star-inserted"
            currentPageReportTemplate="Mostrando 1 a {{ size }} de {{ numberPage }} entradas"
            [showCurrentPageReport]="showCurrentPageReport"
            [rows]="pageNumber"
            [totalRecords]="numberPage"
            (onPageChange)="paginate($event)">
        </p-paginator>
    </div>
    <p-divider class="p-divider p-component p-divider-horizontal p-divider-solid p-divider-left" 
        [ngStyle]="{ 'background-color': '#dfdfe6', 'margin': '0', 'padding': '0', 'border-width': '0px', 'height': '1px' }">
    </p-divider>
</form>
