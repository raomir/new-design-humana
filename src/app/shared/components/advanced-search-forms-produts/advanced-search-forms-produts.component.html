<app-modal-general *ngIf="displayModal" [displayModal]="displayModal" [title]="title" (closeModal)="closeModal()"
    [widthVwModal]="'70vw'" [buttons]="buttons">
    <p-accordion [activeIndex]="0">
        <p-accordionTab [iconPos]="'end'">
            <ng-template pTemplate="header">
                <span class="font-bold" style="font-size: 12px;">Criterios de b√∫squeda</span>
            </ng-template>
            <p-divider class="p-divider p-component p-divider-solid p-divider-left" styleClass="divider-general" />
            <form name="frm" id="frm" [formGroup]="frm">
                <div class="grid col-12 m-0">
                    <!-- Producto -->
                    <div class="col-12 sm:col-12 md:col-12 lg:col-12">
                        <div class="field form-group">
                            <label for="producto" class="form-label md:col-2">Producto</label>
                            <div class="md:col-12 px-0 py-0 field-container">
                                <app-autocomplete [params]="paramsAutocomplete" [placeholder]="'Producto'" (itemSelected)="productSelected($event)"
                                    [endPoint]="endPointAutocomplete" [usePostRequest]="true" url="url2" type="application/x-www-form-urlencoded"
                                    (clearSelectedItem)="clearSelectedProduct()" [inputModel]="productTxt" appendTo="body" />
                            </div>
                        </div>
                    </div>
                    <!-- END Producto -->
                    <!-- Categoria -->
                    <div class="col-12 sm:col-12 md:4 lg:4">
                        <div class="field form-group">
                            <label for="codigo" class="m-0">Categoria</label>
                            <div class="p-inputgroup mt-2">
                                <div class="container">
                                    <div class="p-dropdown" (click)="toggleTree()">
                                        <input styleClass="p-dropdown-default w-100" type="text" pInputText placeholder="Seleccionar" [(ngModel)]="selectedCategory" [ngModelOptions]="{standalone: true}" readonly>
                                        <div class="p-dropdown-trigger-icon p-dropdown-trigger">
                                            <span class="pi pi-chevron-down"></span>
                                        </div>
                                    </div>
                                    <div class="p-dropdown-panel" [ngClass]="{ 'p-dropdown-panel-visible': treeVisible }">
                                        <p-tree [filter]="true" [value]="selectedCategoryTree" selectionMode="single" (onNodeSelect)="getCuentaC($event)" [style]="{ 'max-width': '400px', 'max-height': '300px', 'overflow-y': 'auto' }"></p-tree>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END Categoria -->
                    <!-- nombre -->
                    <div class="col-12 sm:col-12 md:col-4 lg:col-4">
                        <div class="field form-group">
                            <label for="nombre" class="m-0">Nombre</label>
                            <div class="p-inputgroup mt-2">
                                <input pInputText placeholder="Nombre" maxlength="50" name="nombre"
                                    formControlName="nombre" id="nombre" type="text" />
                            </div>
                        </div>
                    </div>
                    <!-- END nombre -->
                    <div class="col-auto ml-auto">
                        <app-buttons-general [buttons]="buttonsForm" (searchAction)="searchForms()"
                            (cleanAction)="cleanForm()" />
                    </div>
                </div>
            </form>
        </p-accordionTab>
    </p-accordion>
    <app-table-general #table [columns]="columns" [export]="false" [endPoint]="endPointDatatable" [usePostRequest]="true" [parameters]="dataForm"
        [usePostRequest]="false" [sendDocument]="true" (runActions)="selectElement($event)" />

</app-modal-general>